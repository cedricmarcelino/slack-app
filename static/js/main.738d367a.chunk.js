(this["webpackJsonpslack-app"]=this["webpackJsonpslack-app"]||[]).push([[0],{134:function(e,t,n){},135:function(e,t,n){},144:function(e,t){},148:function(e,t){},166:function(e,t){},739:function(e,t,n){"use strict";n.r(t);var s=n(1),r=n.n(s),c=n(124),a=n.n(c),i=(n(134),n(2)),o=(n(135),n(6)),l=n(0);var u=function(e){var t=e.greetings,n=e.mobileView,s=e.setShowMenu,r=e.showMenu;return Object(l.jsxs)("div",{className:"bg-purple-800 text-white font-bold flex ".concat(n?"justify-between":"justify-left"," p-3"),children:[Object(l.jsx)("span",{className:"text-3xl mx-3",children:"aChat"}),n&&Object(l.jsx)("span",{className:"cursor-pointer text-3xl mx-3",onClick:function(){s(!1===r)},children:" \u2630 "}),!n&&Object(l.jsx)("span",{className:"text-xl self-center mr-0 ml-auto",children:t})]})},d=n(129),b=n(4),j=n.n(b),p=n(9);n(138);var m=function(e){var t=e.greetings,n=e.setActivePage,r=e.userHeaders,c=e.value,a=e.setChannelName,o=e.setChannelID,u=e.setListOfMessages,b=e.setRecipientName,m=e.setRecipientID,h=e.counter,f=e.setCounter,x=e.mobileView,O=e.showMenu,g=e.setShowMenu,v=e.counter2,w=e.setCounter2,y=Object(s.useState)(!1),N=Object(i.a)(y,2),C=N[0],S=N[1],I=Object(s.useState)(!1),k=Object(i.a)(I,2),M=k[0],V=k[1],U=Object(s.useState)(!1),A=Object(i.a)(U,2),L=A[0],D=A[1],P=Object(s.useState)([]),E=Object(i.a)(P,2),T=E[0],R=E[1],_=Object(s.useState)([]),F=Object(i.a)(_,2),H=(F[0],F[1]),W=Object(s.useState)({}),J=Object(i.a)(W,2),z=J[0],G=J[1],q=Object(s.useState)(),K=Object(i.a)(q,2),Y=K[0],B=K[1],X=Object(s.useState)(!0),Q=Object(i.a)(X,2),Z=Q[0],$=Q[1],ee=Object(s.useState)(),te=Object(i.a)(ee,2),ne=te[0],se=te[1],re=Object(s.useState)(),ce=Object(i.a)(re,2),ae=ce[0],ie=ce[1],oe=Object(s.useState)(""),le=Object(i.a)(oe,2),ue=le[0],de=le[1],be=Object(s.useState)([]),je=Object(i.a)(be,2),pe=je[0],me=je[1],he=Object(s.useState)([]),fe=Object(i.a)(he,2),xe=fe[0],Oe=fe[1],ge=[],ve=[];function we(){return ye.apply(this,arguments)}function ye(){return(ye=Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return se(!0),e.next=3,fetch("http://206.189.91.54/api/v1/channels",{method:"GET",headers:r,mode:"cors"}).then((function(e){return e.json()})).then((function(e){if(void 0!==e.data){var t=e.data.map((function(e){return e.name}));R(t);var n=e.data.map((function(e){return e.id}));H(n);var s=0,r={};t.forEach((function(e){r[e]=n[s],s++})),G(r),B(!1),se(!1)}else se(!1),B(!0)})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ne(e){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(p.a)(j.a.mark((function e(t){var s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n("Channel"),u([]),s=t.target.innerHTML,a(s),o(z[s]),f(h+1),g(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Se(){return(Se=Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ie(!0),e.next=3,fetch("http://206.189.91.54/api/v1/channels",{method:"GET",headers:r,mode:"cors"}).then((function(e){return e.json()})).then((function(e){e.data.map((function(e){return e.id})).map((function(e){return fetch("http://206.189.91.54/api/v1/channels/".concat(e),{method:"GET",headers:r,mode:"cors"}).then((function(e){return e.json()})).then((function(e){return e.data.channel_members.map((function(e){if(ge.includes(e.user_id))return null;ge.push(e.user_id),Ie(ge)}))}))}))})).then((function(){null!==pe?(ie(!1),$(!1)):(ie(!1),$(!0))})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ie(e){return ke.apply(this,arguments)}function ke(){return(ke=Object(p.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://206.189.91.54/api/v1/users",{method:"GET",headers:r,mode:"cors"}).then((function(e){return e.json()})).then((function(e){var n=e.data.map((function(e){return e}));Oe(n),e.data.map((function(e){return t.includes(e.id)?ve.push(e.email):null}))})).then((function(){var e=Object(d.a)(new Set(ve));me(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Me(e){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(p.a)(j.a.mark((function e(t){var s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=t.target.innerHTML,b(s),n("DirectMessage"),u([]),w(v+1),xe.map((function(e){return e.email===s?m(e.id):null})),g(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r["Content-Type"]="application/json",Object(s.useEffect)((function(){we()}),[c]),Object(s.useEffect)((function(){return Se.apply(this,arguments)}),[]),Object(l.jsxs)("div",{className:"bg-purple-900 text-white ".concat(x?"w-full absolute":"w-2/12"," ").concat(x&&"".concat(O?"block":"hidden")," ").concat(!1===x&&"block",' max-h-90%" '),children:[x&&Object(l.jsx)("span",{className:"flex item-stretch justify-center font-semibold p-1 mt-4 mb-2",children:t}),Object(l.jsx)("span",{className:"cursor-pointer flex item-stretch mx-4 font-semibold  ".concat(x?"justify-center text-2xl p-1":"justify-left text-lg p-4 mt-4"),onClick:function(){n("Welcome"),g(!1)},children:"Home"}),!1===L&&!x&&Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("span",{className:"cursor-pointer flex item-stretch mx-4 font-semibold ".concat(x?"justify-center text-2xl p-1":"justify-left text-lg p-4"),onMouseEnter:function(){D(!0)},children:["Channels",!1===C?Object(l.jsx)("span",{children:"\u25b4"}):Object(l.jsx)("span",{children:"\u25be"})]})}),(L||x)&&Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"cursor-pointer flex ".concat(x?"justify-center text-2xl p-1":"justify-between text-lg p-4"," mx-4 font-semibold"),onMouseLeave:function(){D(!1)},children:[Object(l.jsxs)("span",{onClick:function(){!1===C?(we(),S(!0)):S(!1)},children:["Channels",!1===C?Object(l.jsx)("span",{children:"\u25b4"}):Object(l.jsx)("span",{children:"\u25be"})]}),Object(l.jsx)("span",{onClick:function(){n("AddChannel"),g(!1)},children:"+"})]})}),ne&&C&&Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("ul",{className:"mx-10",children:Object(l.jsx)("li",{children:"Fetching Data"})})}),C&&!1===Y&&!1===ne&&Object(l.jsx)("ul",{className:"mx-10 ".concat(x&&"text-center text-xl"," max-h-40 overflow-scroll no-scrollbar"),children:T.map((function(e,t){return Object(l.jsx)("li",{className:"cursor-pointer",onClick:Ne,children:e},t)}))}),C&&!0===Y&&!1===ne&&Object(l.jsx)("ul",{className:"mx-10",children:Object(l.jsx)("li",{children:"No Available Channels"})}),Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"cursor-pointer flex ".concat(x?"justify-center text-2xl p-1 mb-4":"justify-left text-lg p-4"," mx-4 font-semibold"),children:Object(l.jsxs)("span",{onClick:function(){V(!1===M)},children:["Direct Messages",!1===M?Object(l.jsx)("span",{children:"\u25b4"}):Object(l.jsx)("span",{children:"\u25be"})]})})}),ae&&M&&Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("ul",{className:"mx-10",children:Object(l.jsx)("li",{children:"Fetching Data"})})}),M&&!1===Z&&!1===ae&&Object(l.jsxs)("div",{className:"flex justify-start flex-col items-center",children:[Object(l.jsx)("input",{type:"text",placeholder:"Search...",onChange:function(e){de(e.target.value)},className:"w-1/2 text-black w-3/4 max-w-sm"}),Object(l.jsx)("ul",{className:"mx-10 ".concat(x&&"text-center mb-4"," max-h-60 overflow-scroll no-scrollbar flex flex-col items-start"),children:pe.map((function(e,t){return""===ue||e.toLowerCase().includes(ue.toLowerCase())?Object(l.jsx)("li",{onClick:Me,children:e},t):void 0}))})]}),M&&!0===Z&&!1===ae&&Object(l.jsx)("ul",{className:"mx-10",children:Object(l.jsx)("li",{children:"No Available Users"})})]})},h=n(5);var f=function(e){var t=e.userHeaders,n=e.userId,r=e.setValue,c=e.value,a=e.setAlertMessage,o=e.setAlertWindowVisible,u=Object(s.useState)(""),d=Object(i.a)(u,2),b=d[0],m=d[1];function h(){return(h=Object(p.a)(j.a.mark((function e(){var s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={name:b,user_ids:[n]},e.next=3,fetch("http://206.189.91.54/api/v1/channels",{method:"POST",headers:t,mode:"cors",body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(e){void 0!==e.errors?(a(e.errors[0]),o(!0)):(m(""),a("Channel created!"),o(!0),r(c+1))})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t["Content-Type"]="application/json",Object(l.jsxs)("div",{className:"text-center py-24",children:[Object(l.jsx)("h1",{className:"font-semibold text-3xl my-2",children:"Create a new channel"}),Object(l.jsxs)("fieldset",{children:[Object(l.jsx)("label",{className:"my-2",children:"Channel name: "}),Object(l.jsx)("input",{className:"my-2",type:"text",onChange:function(e){m(e.target.value)},value:b})]}),Object(l.jsx)("button",{onClick:function(){return h.apply(this,arguments)},className:"bg-purple-800 hover:bg-purple-900 text-white font-bold py-2 px-4 border border-purple-900 rounded my-2",children:"Create Channel"})]})};var x=function(e){var t=e.channelID,n=e.userHeaders,r=e.setAlertMessage,c=e.setAlertWindowVisible,a=Object(s.useState)(""),o=Object(i.a)(a,2),u=o[0],d=o[1];function b(){return(b=Object(p.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://206.189.91.54/api/v1/channel/add_member",{method:"POST",headers:n,mode:"cors",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){"string"===typeof e.errors?(r(e.errors),c(!0)):"object"===typeof e.errors?(r(e.errors[0]),c(!0)):void 0===e.errors&&(d(""),r("User added successfuly!"),c(!0))})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.jsxs)("div",{className:"text-center py-5",children:[Object(l.jsx)("h1",{className:"font-semibold text-3xl my-2",children:"Add new member: "}),Object(l.jsxs)("fieldset",{children:[Object(l.jsx)("label",{className:"my-2",children:"Account ID: "}),Object(l.jsx)("input",{className:"my-2",type:"text",onChange:function(e){d(e.target.value)},value:u})]}),Object(l.jsx)("button",{onClick:function(){!function(e){b.apply(this,arguments)}({id:t,member_id:u})},className:"bg-purple-800 hover:bg-purple-900 text-white font-bold py-2 px-4 border border-purple-900 rounded my-2",children:"Add Member"})]})};var O=function(e){var t=e.channelName,n=e.channelID,r=e.listOfMessages,c=e.userHeaders,a=e.setListOfMessages,o=e.setActivePage,u=e.counter,d=e.setCounter,b=e.mobileView,m=Object(s.useState)(""),h=Object(i.a)(m,2),f=h[0],x=h[1],O=Object(s.useState)(0),g=Object(i.a)(O,2),v=g[0],w=g[1],y=Object(s.useState)(),N=Object(i.a)(y,2),C=N[0],S=N[1],I=Object(s.useRef)(null);function k(e){return M.apply(this,arguments)}function M(){return M=Object(p.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://206.189.91.54/api/v1/messages",{method:"POST",headers:c,mode:"cors",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){w((function(e){return e+1}))})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)}))),M.apply(this,arguments)}function V(){return U.apply(this,arguments)}function U(){return U=Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://206.189.91.54/api/v1/messages?receiver_id=".concat(n,"&receiver_class=Channel"),{method:"GET",headers:c,mode:"cors"}).then((function(e){return e.json()})).then((function(e){if(0!==e.data.length){var t=e.data,n=[];t.forEach((function(e){n.push(e)})),a(n)}else console.log("NO MESSAGES");S(!1)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)}))),U.apply(this,arguments)}return Object(s.useEffect)((function(){V()}),[t,v]),Object(s.useEffect)((function(){var e=setInterval((function(){d(u+1),V()}),5e3);return function(){clearInterval(e)}}),[u]),Object(s.useEffect)((function(){!function(){var e;null===(e=I.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}()}),[r]),Object(l.jsxs)("div",{className:"h-full flex flex-col justify-between max-h-90%",children:[Object(l.jsxs)("div",{className:"border-solid border-purple-300 border-2 bg-white p-3 flex justify-between",children:[Object(l.jsxs)("span",{className:"font-bold ".concat(b?"text-xl":"text-3xl"),children:[t," #",n]}),Object(l.jsx)("span",{className:"font-bold text-center ".concat(b?"text-base":"text-xl"," cursor-pointer"),onClick:function(){o("AddMember")},children:"+ Add Member"})]}),Object(l.jsxs)("div",{className:"p-4 h-screen max-h-90 overflow-y-scroll",children:[C?Object(l.jsx)("div",{className:"text-center my-10",children:" Fetching Messages "}):r.map((function(e){return Object(l.jsxs)("div",{className:e.sender.uid===c.uid?"ml-auto mr-0 ".concat(b?"w-4/6":"w-2/6"):"ml-0 mr-auto ".concat(b?"w-4/6":"w-2/6"),children:[Object(l.jsx)("div",{className:e.sender.uid===c.uid?"m-3 font-semibold text-right":"m-3 font-semibold",children:e.sender.uid===c.uid?"You":e.sender.uid}),Object(l.jsx)("div",{className:e.sender.uid===c.uid?"border-solid rounded-md border-purple-300 border-2 text-lg p-4 m-3 bg-purple-500 text-white":"bg-purple-900 border-solid rounded-md border-purple-300 border-2 text-lg p-4 m-3 text-white",children:Object(l.jsx)("span",{children:e.body})})]})})),Object(l.jsx)("div",{className:"h-px w-px",ref:I,children:" "})]}),Object(l.jsxs)("div",{className:"p-4",children:[Object(l.jsx)("textarea",{className:"border-solid border-purple-300 border-2 resize-none w-full h-40 p-4",name:"message",onChange:function(e){x(e.target.value)},onKeyPress:function(e){return function(e){"Enter"===e.key&&(e.preventDefault(),k({receiver_id:n,receiver_class:"Channel",body:f}),x(""))}(e)},value:f}),Object(l.jsx)("button",{className:"bg-purple-700 hover:bg-purple-900 text-white font-bold py-2 px-4 rounded",onClick:function(){k({receiver_id:n,receiver_class:"Channel",body:f}),x("")},children:"Send Message"})]})]})};var g=function(e){var t=e.recipientName,n=e.recipientID,r=e.listOfMessages,c=e.userHeaders,a=e.setListOfMessages,o=e.counter2,u=e.setCounter2,d=Object(s.useState)(""),b=Object(i.a)(d,2),m=b[0],h=b[1],f=Object(s.useState)(0),x=Object(i.a)(f,2),O=x[0],g=x[1],v=Object(s.useState)(),w=Object(i.a)(v,2),y=w[0],N=w[1],C=Object(s.useRef)(null);function S(e){return I.apply(this,arguments)}function I(){return I=Object(p.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://206.189.91.54/api/v1/messages",{method:"POST",headers:c,mode:"cors",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){g((function(e){return e+1})),console.log(e)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)}))),I.apply(this,arguments)}function k(){return M.apply(this,arguments)}function M(){return M=Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://206.189.91.54/api/v1/messages?receiver_id=".concat(n,"&receiver_class=User"),{method:"GET",headers:c,mode:"cors"}).then((function(e){return e.json()})).then((function(e){if(0!==e.data.length){var t=e.data,n=[];t.forEach((function(e){n.push(e),console.log(e)})),a(n)}else console.log("NO MESSAGES");N(!1)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)}))),M.apply(this,arguments)}return Object(s.useEffect)((function(){k(),console.log("I RAN")}),[t,O]),Object(s.useEffect)((function(){var e=setInterval((function(){u(o+1),k()}),5e3);return function(){clearInterval(e)}}),[o,n]),Object(s.useEffect)((function(){!function(){var e;null===(e=C.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}()}),[r]),Object(l.jsxs)("div",{className:"h-full flex flex-col justify-between max-h-screen",children:[Object(l.jsx)("div",{className:"border-solid border-purple-300 border-2 bg-white p-3 flex justify-between",children:Object(l.jsxs)("span",{className:"font-bold text-3xl",children:[t," #",n]})}),Object(l.jsxs)("div",{className:" p-4 h-screen max-h-90 overflow-y-scroll",children:[y?Object(l.jsx)("div",{className:"text-center my-10",children:" Fetching Messages "}):r.map((function(e){return Object(l.jsxs)("div",{className:e.sender.uid===c.uid?"ml-auto mr-0 w-2/6":"ml-0 mr-auto w-2/6",children:[Object(l.jsx)("div",{className:e.sender.uid===c.uid?"m-3 font-semibold text-right":"m-3 font-semibold",children:e.sender.uid}),Object(l.jsx)("div",{className:e.sender.uid===c.uid?"border-solid rounded-md border-purple-300 border-2 text-lg p-4 m-3 bg-purple-700 text-white":"bg-purple-800 border-solid rounded-md border-purple-300 border-2 text-lg p-4 m-3 text-white",children:Object(l.jsx)("span",{children:e.body})})]})})),Object(l.jsx)("div",{className:"h-px w-px",ref:C,children:" "})]}),Object(l.jsxs)("div",{className:"p-4",children:[Object(l.jsx)("textarea",{className:"border-solid border-purple-300 border-2 resize-none w-full h-40 p-4",name:"message",onChange:function(e){h(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),S({receiver_id:n,receiver_class:"User",body:m}),h(""))},value:m}),Object(l.jsx)("button",{class:"bg-purple-700 hover:bg-purple-900 text-white font-bold py-2 px-4 rounded",onClick:function(){S({receiver_id:n,receiver_class:"User",body:m}),h("")},children:"Send Message"})]})]})};var v=function(e){var t=e.userId,n=e.setCurrentUser,s=e.mobileView,r=e.setActivePage,c=e.setShowMenu,a=Object(h.g)();return Object(l.jsxs)("div",{className:"flex flex-col w-full px-2",children:[Object(l.jsx)("span",{className:"text-3xl font-bold text-center mt-20",children:"Welcome to your Dashboard!"}),Object(l.jsxs)("span",{className:"text-xl text-center font-semibold",children:["Your Account ID is #",t]}),Object(l.jsx)("span",{className:"text-center italic m-20",children:'"Avion Chat helps you connect with your community anytime, anywhere!"'}),Object(l.jsx)("button",{onClick:function(){r("AddChannel"),c(!1)},className:"bg-purple-700 hover:bg-purple-900 text-white font-bold py-2 px-4 m-10 rounded ".concat(s?"w-2/4":"w-1/4"," mx-auto"),children:"Create A Channel"}),Object(l.jsx)("button",{onClick:function(){a.push("/"),n({})},className:"bg-purple-700 hover:bg-purple-900 text-white font-bold py-2 px-4 rounded ".concat(s?"w-2/4":"w-1/4"," mx-auto"),children:"Switch Account"})]})};var w=function(e){var t=e.mobileView,n=e.alertMessage,s=e.alertWindowVisible,r=e.setAlertWindowVisible;return Object(l.jsx)("div",{className:"w-full h-full bg-gray-300 bg-opacity-50 pt-24 ".concat(s?"absolute":"hidden"),children:Object(l.jsxs)("div",{className:"".concat(t?"w-1/2":"w-1/4"," rounded-md overflow-hidden m-auto"),children:[Object(l.jsx)("div",{className:"flex bg-purple-800 text-white py-1 px-4 font-bold",children:Object(l.jsx)("span",{className:"mr-0 ml-auto cursor-pointer",onClick:function(){r(!1)},children:"X"})}),Object(l.jsx)("div",{className:"bg-white p-4 text-center ",children:n})]})})};var y=function(e){var t=e.activePage,n=e.userHeaders,r=e.userId,c=e.setValue,a=e.value,o=e.channelName,u=e.channelID,d=e.recipientName,b=e.recipientID,j=e.listOfMessages,p=e.setListOfMessages,m=e.setActivePage,h=e.counter,y=e.setCounter,N=e.mobileView,C=e.setCurrentUser,S=e.setShowMenu,I=e.counter2,k=e.setCounter2,M=Object(s.useState)(!1),V=Object(i.a)(M,2),U=V[0],A=V[1],L=Object(s.useState)("No Alert Message"),D=Object(i.a)(L,2),P=D[0],E=D[1];return Object(l.jsxs)("div",{className:"".concat(N?"w-full relative":"w-10/12 relative"," bg-gray-200"),children:[Object(l.jsx)(w,{mobileView:N,alertMessage:P,alertWindowVisible:U,setAlertWindowVisible:A}),"AddChannel"===t&&Object(l.jsx)(f,{userHeaders:n,userId:r,setValue:c,value:a,setAlertMessage:E,setAlertWindowVisible:A}),"Channel"===t&&Object(l.jsx)(O,{channelName:o,channelID:u,listOfMessages:j,setListOfMessages:p,userHeaders:n,setActivePage:m,counter:h,setCounter:y,mobileView:N}),"AddMember"===t&&Object(l.jsx)(x,{channelID:u,userHeaders:n,setAlertMessage:E,setAlertWindowVisible:A}),"DirectMessage"===t&&Object(l.jsx)(g,{recipientName:d,recipientID:b,listOfMessages:j,setListOfMessages:p,userHeaders:n,counter:I,setCounter2:k}),"Welcome"===t&&Object(l.jsx)(v,{userId:r,setCurrentUser:C,mobileView:N,setShowMenu:S,setActivePage:m,counter2:I,setCounter2:k})]})},N=n(44);var C=function(e){var t=e.currentUser,n=e.setCurrentUser,r=Object(s.useState)("Welcome"),c=Object(i.a)(r,2),a=c[0],d=c[1],b=JSON.parse(localStorage.getItem("currentUser")),j=b.headers,p=b.data.id,f=Object(s.useState)(0),x=Object(i.a)(f,2),O=x[0],g=x[1],v=Object(s.useState)(""),w=Object(i.a)(v,2),C=w[0],S=w[1],I=Object(s.useState)(),k=Object(i.a)(I,2),M=k[0],V=k[1],U=Object(s.useState)(""),A=Object(i.a)(U,2),L=A[0],D=A[1],P=Object(s.useState)(),E=Object(i.a)(P,2),T=E[0],R=E[1],_=Object(s.useState)([]),F=Object(i.a)(_,2),H=F[0],W=F[1],J=Object(s.useState)(0),z=Object(i.a)(J,2),G=z[0],q=z[1],K=Object(s.useState)(0),Y=Object(i.a)(K,2),B=Y[0],X=Y[1],Q=Object(s.useState)(!1),Z=Object(i.a)(Q,2),$=Z[0],ee=Z[1],te="Hello, ".concat(b.data.email,"!");return 0===Object.keys(t).length?Object(l.jsx)(h.a,{to:"/"}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(N.a,{query:"(max-width: 1332px)",children:function(e){var t;return e&&Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"flex flex-col h-screen",children:[Object(l.jsx)(u,{mobileView:!0,showMenu:$,setShowMenu:ee,greetings:te}),Object(l.jsxs)("div",{className:"flex flex-grow",children:[Object(l.jsx)(y,(t={activePage:a,userHeaders:j,userId:p,setValue:g,value:O,channelName:C,recipientName:L,channelID:M,recipientID:T,listOfMessages:H,setListOfMessages:W,setActivePage:d,counter:G,setCounter:q,mobileView:!0,setChannelName:S,setRecipientName:D,setChannelID:V,setRecipientID:R,showMenu:$,setShowMenu:ee,setCurrentUser:n},Object(o.a)(t,"setShowMenu",ee),Object(o.a)(t,"counter2",B),Object(o.a)(t,"setCounter2",X),t)),Object(l.jsx)(m,{userHeaders:j,setActivePage:d,value:O,setChannelName:S,setRecipientName:D,setChannelID:V,setRecipientID:R,setListOfMessages:W,counter:G,setCounter:q,showMenu:$,mobileView:!0,setShowMenu:ee,counter2:B,setCounter2:X,greetings:te})]})]})})}}),Object(l.jsx)(N.a,{query:"(min-width: 1333px)",children:function(e){return e&&Object(l.jsxs)("div",{className:"flex flex-col h-screen",children:[Object(l.jsx)(u,{mobileView:!1,showMenu:$,setShowMenu:ee,greetings:te}),Object(l.jsxs)("div",{className:"flex flex-grow",children:[Object(l.jsx)(m,{userHeaders:j,setActivePage:d,value:O,setChannelName:S,setRecipientName:D,setChannelID:V,setRecipientID:R,setListOfMessages:W,counter:G,setCounter:q,mobileView:!1,showMenu:$,setShowMenu:ee,counter2:B,setCounter2:X,greetings:te}),Object(l.jsx)(y,{activePage:a,userHeaders:j,userId:p,setValue:g,value:O,channelName:C,recipientName:L,channelID:M,recipientID:T,listOfMessages:H,setListOfMessages:W,setActivePage:d,counter:G,setCounter:q,mobileView:!1,setCurrentUser:n,setShowMenu:ee,counter2:B,setCounter2:X})]})]})}})]})},S=n(25);var I=function(e){var t=e.setCurrentUser,n=e.emailLogInInput,s=e.passwordLogInput,r=e.logInReminder,c=e.setLogInReminder,a=e.logInVisiblity,i=e.setLogInVisibility,u=(e.signUpVisibity,e.setSignUpVisibility),d=Object(h.g)();function b(){return(b=Object(p.a)(j.a.mark((function e(r){var a,i,l,u,b,p;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),a={email:n.current.value,password:s.current.value},"http://206.189.91.54/api/v1/auth/sign_in/",i=["access-token","client","expiry","uid"],e.next=6,fetch("http://206.189.91.54/api/v1/auth/sign_in/",{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",body:JSON.stringify(a)});case 6:return l=e.sent,e.next=9,l.json();case 9:if(u=e.sent,!(l.status>=200&&l.status<=299)){e.next=19;break}return e.next=13,l.headers;case 13:b=e.sent,p=Array.from(b.entries()).reduce((function(e,t){return i.includes(t[0])?Object(S.a)(Object(S.a)({},e),{},Object(o.a)({},t[0],t[1])):e}),{}),t(Object(S.a)(Object(S.a)({},u),{},{headers:p})),d.push("/dashboard"),e.next=20;break;case 19:c(u.errors[0]);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.jsx)("div",{className:"lg:min-h-full absolute lg:items-center lg:justify-center py-12 px-4 sm:px-6 lg:px-8 lg:left-0 lg:w-1/2 lg:top-0 lg:left-0 lg:translate-x-0 lg:translate-y-0 lg:visible ".concat(a," w-96 h-min border border-transparent m"),children:Object(l.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("img",{className:"mx-auto h-12 w-auto",src:"https://tailwindui.com/img/logos/workflow-mark-indigo-600.svg",alt:"Workflow"}),Object(l.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Log in to your account"})]}),Object(l.jsx)("div",{children:Object(l.jsx)("h2",{children:r})}),Object(l.jsxs)("form",{className:"mt-8 space-y-6",action:"#",method:"POST",children:[Object(l.jsx)("input",{type:"hidden",name:"remember",defaultValue:"true"}),Object(l.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),Object(l.jsx)("input",{ref:n,id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address"})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),Object(l.jsx)("input",{ref:s,id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password"})]})]}),Object(l.jsx)("div",{className:"flex items-center justify-between",children:Object(l.jsxs)("div",{className:"flex items-center",children:[Object(l.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),Object(l.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]})}),Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{onClick:function(e){return b.apply(this,arguments)},type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Log in"}),Object(l.jsx)("button",{onClick:function(){u("visible"),i("invisible")},type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-indigo-600 text-sm font-medium rounded-md text-indigo bg-white my-2 lg:invisible",children:"Sign up"})]})]})]})})};var k=function(e){var t,n,s=e.emailSignUpInput,r=e.passwordSignUpInput,c=e.confirmSignUpInput,a=e.signUpReminder,i=e.setSignUpReminder,u=e.setHomeState,d=e.emailLogInInput,b=e.passwordLogInput,m=e.setLogInReminder,h=(e.logInVisiblity,e.setLogInVisibility),f=e.signUpVisibility,x=e.setSignUpVisibility;function O(e){return g.apply(this,arguments)}function g(){return(g=Object(p.a)(j.a.mark((function e(t){var n,a,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={email:s.current.value,password:r.current.value,password_confirmation:c.current.value},"http://206.189.91.54/api/v1/auth/",e.next=5,fetch("http://206.189.91.54/api/v1/auth/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 5:return a=e.sent,e.next=8,a.json();case 8:o=e.sent,a.status>=200&&a.status<=299?(d.current.value=s.current.value,b.current.value=r.current.value,s.current.value="",r.current.value="",c.current.value="",u({state:"login",buttonText:"Sign Up",captionText:"Don't have an Account?",transitionClass:"translate-x-0 "}),m("Sign up was successful. You may now log in.")):i(o.errors.full_messages[0]);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){"Enter"===e.key&&(e.preventDefault(),O(e),s.current.blur(),r.current.blur(),c.current.blur(),setTimeout((function(){d.current.focus()}),1e3))}return Object(l.jsx)("div",{className:"lg:min-h-full absolute lg:items-center lg:justify-center py-12 px-4 sm:px-6 lg:px-8 lg:right-0 lg:w-1/2 lg:top-0 lg:translate-x-0 lg:translate-y-0 lg:visible  ".concat(f," w-96 h-min border border-transparent"),children:Object(l.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("img",{className:"mx-auto h-12 w-auto",src:"https://tailwindui.com/img/logos/workflow-mark-indigo-600.svg",alt:"Workflow"}),Object(l.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"})]}),Object(l.jsx)("div",{children:Object(l.jsx)("h2",{children:a})}),Object(l.jsxs)("form",{className:"mt-8 space-y-6",action:"#",method:"POST",children:[Object(l.jsx)("input",{type:"hidden",name:"remember",defaultValue:"true"}),Object(l.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),Object(l.jsx)("input",{onKeyPress:function(e){return v(e)},ref:s,id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address"})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),Object(l.jsx)("input",(t={onKeyPress:function(e){return v(e)},ref:s},Object(o.a)(t,"ref",r),Object(o.a)(t,"id","password"),Object(o.a)(t,"name","password"),Object(o.a)(t,"type","password"),Object(o.a)(t,"autoComplete","current-password"),Object(o.a)(t,"required",!0),Object(o.a)(t,"className","appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"),Object(o.a)(t,"placeholder","Password"),t))]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Confirm Password"}),Object(l.jsx)("input",(n={onKeyPress:function(e){return v(e)},ref:s},Object(o.a)(n,"ref",c),Object(o.a)(n,"id","password"),Object(o.a)(n,"name","password"),Object(o.a)(n,"type","password"),Object(o.a)(n,"autoComplete","current-password"),Object(o.a)(n,"required",!0),Object(o.a)(n,"className","appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"),Object(o.a)(n,"placeholder","Confirm Password"),n))]})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{onClick:O,type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Sign up"}),Object(l.jsx)("button",{onClick:function(){x("invisible"),h("visible")},type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-indigo-600 text-sm font-medium rounded-md text-indigo bg-white my-2 lg:invisible",children:"Log In"})]})]})]})})};var M=function(e){var t=e.currentUser,n=e.setCurrentUser,r=Object(s.useState)(""),c=Object(i.a)(r,2),a=c[0],o=c[1],u=Object(s.useState)(""),d=Object(i.a)(u,2),b=d[0],j=d[1],p=Object(s.useRef)(""),m=Object(s.useRef)(""),f=Object(s.useRef)(""),x=Object(s.useRef)(""),O=Object(s.useRef)(""),g=Object(s.useState)("visible"),v=Object(i.a)(g,2),w=v[0],y=v[1],N=Object(s.useState)("invisible"),C=Object(i.a)(N,2),S=C[0],M=C[1],V={state:"signup",buttonText:"Log In",captionText:"Already have an Account?",transitionClass:"-translate-x-96 "},U={state:"login",buttonText:"Sign Up",captionText:"Don't have an Account?",transitionClass:"translate-x-0 "},A=Object(s.useState)(U),L=Object(i.a)(A,2),D=L[0],P=L[1];return 0===Object.keys(t).length?Object(l.jsxs)("div",{className:"lg:border-8 absolute sm:w-full sm:full lg:h-100 lg:w-100 lg:top-1/2 lg:left-1/2 transform lg:-translate-x-1/2 lg:-translate-y-1/2 w-full h-full flex justify-center items-center",children:[Object(l.jsxs)("div",{className:"h-44 w-50 border-8 absolute right-0 z-10 bg-gray-400 text-center h-full transform transition-all delay-200 ease-in-out duration-700 ".concat(D.transitionClass," lg:visible invisible"),children:[Object(l.jsx)("h2",{className:"mt-6 text-center text-2xl font-extrabold text-gray-900",children:D.captionText}),Object(l.jsx)("button",{onClick:function(){p.current.value="",m.current.value="",f.current.value="",x.current.value="",O.current.value="",o(""),j(""),"login"===D.state?P(V):P(U)},type:"submit",className:"group relative w-1/2 flex justify-center m-auto my-4 py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ",children:D.buttonText})]}),Object(l.jsx)(I,{currentUser:t,setCurrentUser:n,emailLogInInput:p,passwordLogInput:m,logInReminder:a,setLogInReminder:o,logInVisiblity:w,setLogInVisibility:y,signUpVisibility:S,setSignUpVisibility:M}),Object(l.jsx)(k,{currentUser:t,setCurrentUser:n,emailSignUpInput:f,passwordSignUpInput:x,confirmSignUpInput:O,signUpReminder:b,setSignUpReminder:j,setHomeState:P,emailLogInInput:p,passwordLogInput:m,setLogInReminder:o,logInVisiblity:w,setLogInVisibility:y,signUpVisibility:S,setSignUpVisibility:M})]}):Object(l.jsx)(h.a,{to:"/dashboard"})},V=n(128);var U=function(){var e=localStorage.getItem("currentUser"),t={};e&&(t=JSON.parse(e));var n=Object(s.useState)(t),r=Object(i.a)(n,2),c=r[0],a=r[1];return Object(s.useEffect)((function(){localStorage.setItem("currentUser",JSON.stringify(c))}),[c]),Object(l.jsx)(V.a,{children:Object(l.jsx)("div",{children:Object(l.jsxs)(h.d,{children:[Object(l.jsx)(h.b,{exact:!0,path:"/slack-app",component:function(){return Object(l.jsx)(M,{currentUser:c,setCurrentUser:a})}}),Object(l.jsx)(h.b,{path:"/dashboard",component:function(){return Object(l.jsx)(C,{currentUser:c,setCurrentUser:a})}})]})})})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,740)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),s(e),r(e),c(e),a(e)}))};a.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(U,{})}),document.getElementById("root")),A()}},[[739,1,2]]]);
//# sourceMappingURL=main.738d367a.chunk.js.map